(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["public-register-customer"],{"1cd1":function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{},[r("div",{staticClass:"fixed-header"},[r("js-logo"),t._m(0),r("div",{staticClass:"header-bar"},[r("div",{class:(t.stepStyle,1==t.mainMain?"show-menu":"")},[r("div",{staticClass:"header-menu navigation",class:1==t.stepStyle?"step-menu":""},[r("span",{staticClass:"close-side-bar",on:{click:function(e){t.mainMain=!1}}},[r("i",{staticClass:"icon-delete"})]),0==t.$route.meta.showSideBar?r("div",{staticClass:"logo-container"}):t._e(),r("ul",{staticClass:"menu-list"},t._l(t.allowedMenuListing,(function(e,s){return r("li",{key:s,class:[t.$route.meta.sessionStep&&t.$route.meta.sessionStep==e.sessionStep?"router-link-exact-active":"",t.$route.meta.sessionStep&&t.$route.meta.sessionStep>=e.sessionStep?"router-link-active":""],on:{click:function(e){t.mainMain=!1}}},[r("router-link",{class:[t.$route.name.toString()===e.name.toString()?"router-link-active router-link-exact-active":"",t.$route.meta.innerTabName==e.menuLabel.toString()?"router-link-active router-link-exact-active":""],attrs:{to:t.setRouterName(e)}},[t.stepStyle?r("span",{staticClass:"point"},[r("i",{staticClass:"icon-check-circle"})]):t._e(),r("span",[t._v(t._s(e.menuLabel))])])],1)})),0)]),1==t.$route.meta.showSideBar?r("div",{staticClass:"profile-block"}):t._e()])])],1)])},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header-content"},[r("h3",[t._v("JS sahulat sarmayakari account signup")]),r("h5",[t._v("Your bright future, just a few steps away!")]),r("h6",[t._v("Keep your cnic and account details handy")])])}],n=(r("8e6e"),r("ac6a"),r("cadf"),r("456d"),r("bd86")),a=r("86b2"),o=r("7fef"),c=r("b077"),u=r("bf61"),l=r("2f62"),m=r("2ef0"),p=r.n(m),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"logo"},[r("router-link",{class:t.anchorClass,attrs:{to:t.anchorLink}},[r("img",{staticStyle:{"max-width":"182px","margin-left":"22px"},attrs:{src:"https://online.jsil.com/javax.faces.resource/JsilLogoo.jpg.xhtml?ln=images",alt:"",srcset:""}})])],1)},h=[];function f(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function g(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?f(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var b={props:{anchorClass:{type:String,default:""},anchorLink:{type:String,default:"/insights"}},data:function(){return{mainLogo:"",inverseLogo:""}},computed:g({},Object(l["b"])(["displaySettings"])),watch:{displaySettings:function(t){t&&this.getDisplaySettingConf()}},mounted:function(){this.getDisplaySettingConf()},methods:{getDisplaySettingConf:function(){this.displaySettings&&(document.querySelector(":root").style.setProperty("--primary-color",this.displaySettings.colors.primary),document.querySelector(":root").style.setProperty("--secondary-color",this.displaySettings.colors.secondary),document.querySelector(":root").style.setProperty("--interface-medium-color",this.displaySettings.colors.light),document.querySelector(":root").style.setProperty("--interface-dark-color",this.displaySettings.colors.dark)),this.mainLogo=this.displaySettings?"".concat("https://signup.jsil.com/api/","files/logo/").concat(this.displaySettings.logo.dark.fileName):"",this.inverseLogo=this.displaySettings?"".concat("https://signup.jsil.com/api/","files/logo/").concat(this.displaySettings.logo.light.fileName):""}}},v=b,y=r("2877"),w=Object(y["a"])(v,d,h,!1,null,null,null),O=w.exports;function S(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function j(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?S(Object(r),!0).forEach((function(e){Object(n["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):S(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var k={components:{loginDetail:a["a"],changePasswordPopup:c["a"],updateProfilePopup:o["a"],JsLogo:O},directives:{onClickOutside:u["directive"]},props:{menuListing:{type:Array,default:null},stepStyle:{type:Boolean,default:!1},params:{type:Object,default:void 0}},data:function(){return{mainMain:!1,image:"profile-pic.png"}},computed:j(j({},Object(l["b"])(["user","scopes"])),{},{allowedMenuListing:function(){var t=this;if(this.menuListing)return this.menuListing.filter((function(e){return t.checkPermission(e.permission)}))}}),mounted:function(){},methods:{checkPermission:function(t){return!this.$route.meta.requiresAuth||!!p.a.intersection(t,this.scopes).length},setRouterName:function(t){return!0===this.$route.meta.publicRegistration?{name:"public-registration-"+t.name}:{name:t.name}}}},$=k,_=Object(y["a"])($,s,i,!1,null,null,null);e["a"]=_.exports},4465:function(t,e,r){t.exports=r.p+"img/yt-icon.d24c0c9b.svg"},"48ff":function(t,e,r){t.exports=r.p+"img/web-icon.b842963e.svg"},"6e78":function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"customer-profile registration-customer-form"},[r("div",{staticClass:"content-area public-js"},[t.headerBar?r("base-header",{staticClass:"js-desktop-view register-customer-header",attrs:{"menu-listing":t.menuListing,"step-style":""},on:{sidemenu:function(e){return t.$emit("responsiveSideBar")}}}):t._e(),r("div",{class:{"right-panel":t.headerBar}},[r("div",{class:{"wrap-content":t.headerBar,"customer-section":t.headerBar}},[t.headerBar?r("div",{staticClass:"filter-section"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-md-12"},[r("h2",[t._v(t._s(t.$route.meta.name))])])])]):t._e(),r("div",{class:{card:t.headerBar}},[r("router-view")],1)]),t._m(0)]),t.headerBar?r("js-footer",{staticClass:"js-header js-desktop-view"}):t._e()],1),t.headerBar?r("base-footer",{staticClass:"js-mobile-view",staticStyle:{position:"static"}}):t._e()],1)},i=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("ul",{staticClass:"footer js-footer js-header js-desktop-view"},[r("li",{staticStyle:{"margin-bottom":"38px","margin-top":"40px"}},[t._v("\n                    JS Investments Digital Onboarding | Powered by Idenfo\n                ")])])}],n=(r("8e6e"),r("ac6a"),r("cadf"),r("456d"),r("7514"),r("6762"),r("2fdb"),r("a481"),r("96cf"),r("3b8d")),a=r("bd86"),o=r("2f62"),c=r("b775"),u=r("bc3a"),l=r.n(u),m=r("1cd1"),p=r("bf3c");function d(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function h(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?d(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var f={components:{JsHeader:m["a"],JsFooter:p["a"]},props:{dataForm:{type:Object,required:!0},tempData:{type:Object,required:!0}},data:function(){return{headerBar:!1,menuListing:[{menuLabel:"Identity Document",sessionStep:"1",name:"identity-document",permission:["register-customer"]},{menuLabel:"Setup Profile",sessionStep:"2",name:"setup-profile",permission:["register-customer"]},{menuLabel:"Account Info",sessionStep:"3",name:"account-info",permission:["register-customer"]},{menuLabel:"KYC",sessionStep:"4",name:"kyc",permission:["register-customer"]},{menuLabel:"RPQ",sessionStep:"5",name:"investment",permission:["register-customer"]},{menuLabel:"Risk Profile",sessionStep:"6",name:"risk-product",permission:["register-customer"]},{menuLabel:"Upload Documents",sessionStep:"7",name:"upload-document",permission:["register-customer"]},{menuLabel:"Preview",sessionStep:"8",name:"upload",permission:["register-customer"]},{menuLabel:"Finish",sessionStep:"9",name:"upload",permission:["register-customer"]}],genders:null}},computed:h(h({},Object(o["b"])(["form","dataSegmentId"])),{},{dataSegmentId:function(){return this.headerBar=this.$route.meta.headerBar,"60bddf249820642a02485773"}}),watch:{dataSegmentId:function(t){t&&this.checkOcrSwitch()}},mounted:function(){!0===this.$route.meta.publicRegistration&&this.checkDataSegment(),this.checkOcrSwitch(),this.$store.commit("initDefaultFields","form"),this.dataForm=this.$route.params.dataForm,this.tempData=this.$route.params.tempData,this.$root.$on("updateTempCustomer",function(){this.updateTemp()}.bind(this)),this.tempData&&(this.$store.commit("setValue",{key:"form",value:this.tempData}),this.tempData.basicInfo.gender||this.getRecords())},methods:{updateTemp:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0===this.$route.meta.publicRegistration)try{e=this.$store.state.registration.form,r=this.$store.getters.getField("identityInfo.number"),s=r.replace(/-/g,""),this.$store.commit("updateField",{key:"identityInfo.number",value:s}),l.a.post("/api/customers/temp-customer-update",e).then((function(t){i.$store.commit("registration",{key:"form",value:t.data}),i.$store.commit("setSuccess",t.message)})).catch((function(t){i.errorMessage=t.message,i.$store.commit("setError","Something went wrong")}))}catch(n){console.log(n),this.$store.commit("setError","Something went wrong")}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),goToFirstStep:function(){["identity-document","new-signup"].includes(this.$route.name)||(!0===this.$route.meta.publicRegistration?this.$router.push({name:"new-signup",params:{dataSegmentId:this.dataSegmentId}}):this.$router.push({name:"identity-document"}))},checkOcrSwitch:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])({url:"/configurations/ocr/",params:{dataSegmentId:this.dataSegmentId}});case 3:e=t.sent,r=e.data,this.$store.commit("setValue",{key:"useOcr",value:r.data.switch}),this.$store.commit("setValue",{key:"restrictDuplicateCustomers",value:r.data.restrictDuplicateCustomers}),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),checkDataSegment:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])({url:"/configurations/check-dataSegment",method:"post",data:{dataSegmentId:this.dataSegmentId}});case 3:e=t.sent,r=e.data,r?"fail"==r.status&&this.$router.push("/404"):this.$router.push("/404"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$router.push("/404");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}(),getRecords:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,s,i,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])({url:"/configurations/genders",params:{dataSegmentId:this.dataSegmentId,status:"active",perPage:1e3,ref:"dropdown"}});case 3:if(e=t.sent,r=e.data,this.genders=r.data,s=this.tempData.identityInfo.number%10%2,1!=s){t.next=15;break}this.$store.commit("updateField",{key:"basicInfo.gender",value:"Male"}),i=this.genders.find((function(t){return"Male"==t.title})),this.$store.commit("updateField",{key:"basicInfo.genderId",value:i._id}),this.$store.commit("updateField",{key:"asaanAccInfo.gender",value:i.value}),console.log("gender ",this.$store.state.registration.form.basicInfo.gender),t.next=24;break;case 15:if(0!=s){t.next=23;break}this.$store.commit("updateField",{key:"basicInfo.gender",value:"Female"}),n=this.genders.find((function(t){return"Female"==t.title})),this.$store.commit("updateField",{key:"basicInfo.genderId",value:n._id}),this.$store.commit("updateField",{key:"asaanAccInfo.gender",value:n.value}),console.log("gender ",this.$store.state.registration.form.basicInfo.gender),t.next=24;break;case 23:return t.abrupt("return");case 24:t.next=28;break;case 26:t.prev=26,t.t0=t["catch"](0);case 28:case"end":return t.stop()}}),t,this,[[0,26]])})));function e(){return t.apply(this,arguments)}return e}()}},g=f,b=r("2877"),v=Object(b["a"])(g,s,i,!1,null,null,null);e["default"]=v.exports},7239:function(t,e,r){t.exports=r.p+"img/email-icon.96b0ef0c.svg"},"888d":function(t,e,r){t.exports=r.p+"img/ig-icon.2e6cc210.svg"},a283:function(t,e,r){t.exports=r.p+"img/call-icon.d356639b.svg"},b876:function(t,e,r){t.exports=r.p+"img/in-icon.8c021d29.svg"},b930:function(t,e,r){t.exports=r.p+"img/fb-icon.a2f85653.svg"},bf3c:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"fixed-footer footer-content"},[s("div",[s("img",{attrs:{src:r("7239"),alt:"",srcset:"",width:"30"}}),s("div",{staticClass:"social-content"},[s("a",{attrs:{href:"mailto: ir@jsil.com",target:"_blank"}},[s("p",[t._v("Email")]),s("p",[t._v("ir@jsil.com")])])])]),s("div",[s("img",{attrs:{src:r("a283"),width:"30"}}),s("div",{staticClass:"social-content"},[s("p",[t._v("Toll Free Number")]),s("p",[t._v("0800-00887")])])]),s("div",[s("img",{attrs:{src:r("48ff"),width:"30"}}),s("div",{staticClass:"social-content"},[s("a",{attrs:{href:"https://jsil.com/",target:"_blank"}},[s("p",[t._v("Website")]),s("p",[t._v("www.jsil.com")])])])]),s("div",[s("div",{staticClass:"social-content follow"},[s("p",{},[t._v("Follow us on social media")]),s("div",{staticClass:"icons"},[s("a",{attrs:{href:"https://www.youtube.com/channel/UC7iYwXZeW-BpBhdXzqAz0xw",target:"_blank"}},[s("img",{attrs:{src:r("4465")}})]),s("a",{attrs:{href:"https://www.facebook.com/JSinvestments/",target:"_blank"}},[s("img",{attrs:{src:r("b930")}})]),s("a",{attrs:{href:"https://www.instagram.com/js.investments/?hl=en",target:"_blank"}},[s("img",{attrs:{src:r("888d")}})]),s("a",{attrs:{href:"https://twitter.com/JSInvestment?ref_src=twsrc%5Egoogle%7Ctwcamp%5Eserp%7Ctwgr%5Eauthor",target:"_blank"}},[s("img",{attrs:{src:r("cc3c")}})]),s("a",{attrs:{href:"https://www.linkedin.com/company/js-investments-limited/?originalSubdomain=pk",target:"_blank"}},[s("img",{attrs:{src:r("b876")}})])])])])])])}],n={},a=n,o=r("2877"),c=Object(o["a"])(a,s,i,!1,null,null,null);e["a"]=c.exports},cc3c:function(t,e,r){t.exports=r.p+"img/twitter-icon.e73efc6e.svg"},dce0:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",[r("router-view")],1)},i=[],n=(r("8e6e"),r("ac6a"),r("cadf"),r("456d"),r("a481"),r("96cf"),r("3b8d")),a=(r("6762"),r("2fdb"),r("bd86")),o=r("2f62"),c=r("b775"),u=r("bc3a"),l=r.n(u);function m(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);e&&(s=s.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),r.push.apply(r,s)}return r}function p(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?m(Object(r),!0).forEach((function(e){Object(a["a"])(t,e,r[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))}))}return t}var d={props:{},data:function(){return{headerBar:!1}},computed:p(p({},Object(o["b"])(["form","dataSegmentId"])),{},{dataSegmentId:function(){return this.headerBar=this.$route.meta.headerBar,this.$route.params.dataSegmentId?this.$route.params.dataSegmentId:"60bddf249820642a02485773"}}),watch:{dataSegmentId:function(t){t&&this.checkOcrSwitch()}},mounted:function(){!0===this.$route.meta.publicRegistration&&this.checkDataSegment(),this.goToFirstStep(),this.checkOcrSwitch(),this.$store.commit("initDefaultFields","form"),this.$root.$on("updateTempCustomer",function(){this.updateTemp()}.bind(this))},methods:{goToFirstStep:function(){["identity-document","new-signup"].includes(this.$route.name)||(!0===this.$route.meta.publicRegistration?this.$router.push({name:"public-registration-init"}).catch((function(){})):this.$router.push({name:"identity-document"}))},updateTemp:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r,s,i=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!0===this.$route.meta.publicRegistration)try{e=this.$store.state.registration.form,r=this.$store.getters.getField("identityInfo.number"),r&&(s=r.replace(/-/g,""),this.$store.commit("updateField",{key:"identityInfo.number",value:s})),l.a.post("/api/customers/temp-customer-update",e).then((function(t){i.$store.commit("registration",{key:"form",value:t.data}),i.$store.commit("setSuccess",t.message)})).catch((function(t){i.errorMessage=t.message,i.$store.commit("setError","Something went wrong")}))}catch(n){console.log(n),this.$store.commit("setError","Something went wrong")}case 1:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),checkOcrSwitch:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])({url:"/configurations/ocr/",params:{dataSegmentId:this.dataSegmentId}});case 3:e=t.sent,r=e.data,this.$store.commit("setValue",{key:"useOcr",value:r.data.switch}),this.$store.commit("setValue",{key:"restrictDuplicateCustomers",value:r.data.restrictDuplicateCustomers}),t.next=11;break;case 9:t.prev=9,t.t0=t["catch"](0);case 11:case"end":return t.stop()}}),t,this,[[0,9]])})));function e(){return t.apply(this,arguments)}return e}(),checkDataSegment:function(){var t=Object(n["a"])(regeneratorRuntime.mark((function t(){var e,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(c["a"])({url:"/configurations/check-dataSegment",method:"post",data:{dataSegmentId:this.dataSegmentId}});case 3:e=t.sent,r=e.data,r?"fail"==r.status&&this.$router.push("/404"):this.$router.push("/404"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.$router.push("/404");case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()}},h=d,f=r("2877"),g=Object(f["a"])(h,s,i,!1,null,null,null);e["default"]=g.exports}}]);
//# sourceMappingURL=public-register-customer.1e82484c.js.map